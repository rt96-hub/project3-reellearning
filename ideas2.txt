x track watched videos
- preload videos/stream
    - store download of prior x videos so you can go back??
- refactor?
x generate fake video data
    x name, description
    x tags
    x fake transcript
    x ai gen analysis of transcript and otherwise
- tag videos with subject
    - tag classes/feeds with interests and understanding
    - BASIC recommendation system from get videos
x generate video files
    x 10 seconds of video (same dimensions as my phone videos)
    x lower quality
    x just the title and description
    - make a thumbnail
- tag classes with subject too?
x build and deploy
x email verification on deployed??????

x script to remove # from all tags
    x videos.classification.explicit.hashtags
    x videoTags.tag
    x videoTags.relatedTags

- general recommendation system
    x create a vector for each video
    x when a video is liked for a user/class, 
        x it adds the vector to the user/class vector
        x it adds the tags to the user/class tag preferences map
    - when we call the load videos function, we do a combined scoring approach
        - score = alpha * vector similarity + beta * tag similarity
        - vector similarity is the cosine similarity between the user/class vector and the video vector
        - tag similarity is the cosine similarity between the user/class tag preferences and the video tags



- ai
    x ai generated onboarding??? (GOTTA BE FAST THO)
        x how does this seed the data?
        x get a list of the 20 most common tags, when you select a tag, it gets 5 more tags related to it, recursively
        x create an embedding of the tags, and when you select a tag, it gets the top 5 tags related to it (we can precalculate the 5 nearest neighbors and store them)
        x create a tag table, and when a new video is uploaded, if the tag doesn't exist, it creates it, otherwise it increments the count
        - eventually, we will run a nightly job to calculate the 5 nearest neighbors for all tags
        x these tags will be part of the recommendation system, basically looking at the users most liked tags and recommending videos within those and related tags
    x add similar onboarding when you create a class
        x maybe with a search?
    - ai generated progress report(what have you done over the last x days)
        - userProgressReport collection, progress report page
            x list of historical reports
            x generate new report button, last x days, weeks, hours, months, years
            x need to make the firestore rules allow for reading (creation is handled on the endpoint)
            - how to leave the modal before the report is finished, send a message when its done
            - if still on the page, does it open you to the report detail page? Can we load it and let it stream the results?
                - on the first opened page, it shows all the actual firebase data
                - the report document is created sans body, the result is streamed to the page
                - once the streaming is done, the body is updated with the result?
            - build out report detail function
                - properly query the data
                    - can I test locally with python?
                    - dont store the entire video data, maybe for the videos watched, we only store the time watched and the video title? or at least compare speed (or no actual video data at all, just the count of videos watched)
                - connect to openai to feed summary info
                    - how to set enviroment variables?
        - ADD QUESTIONS ANSWERED TO REPORT (NEED to get the questions in first though)
        - do one time generate report function first, then set up scheduled job to call those functions
        - every day, send a push notification? And you can look at a summary of the day? at 9 am of the next day
        - "your mm/dd/yyyy summary"
        - how to schedule a job?? and then I need to figure out how to kick it off manually, and maybe shorten the duration we are checking
        - schedule job that runs, pulls records, then sends the data to kick off other functions that generate reports parallel
        - look at (cloud function that pulls the below data from firestore, then runs it through an llm):
            - classes made
            - videos watched
            - videos liked
            - videos bookmarked
            - comments
            - replies/likes to your comments
            - understanding entries
    - ai generated class report for curators (what have the students been liking/comprehending)
        - classProgressReport collection
        - probably lives in the class page, maybe generated on a schedule still?
    - ai generated suggested reading or videos based on what the user has watched, maybe in the same tab as the progress report
        - or based on class
        - part of the progress report?
        - agent or simple llm that somehow summarizes activity, and then uses the summary to query the web for relevant videos/articles/etc.
        - need to find a service that can easily query the web for relevant videos/books/articles
    - ai generated questions randomly in the feed, based on last x videos watched (depends on subject)
    - ai generated badges or achievements???
        - achievements screen
            - list of achievements
            - generate a fun achievement for every user
            - create them after so many videos watched, classes made, replies/likes, etc.
            - every achievement is unique, maybe a badge generated by AI model or something

        - badges/achievements page (NFT???)
    


- eventually
    - search
    - dms
    - notifications
    - auto binary classification on video upload

- on userViews and bookmarks and likes
    - instead of an array of classIds, use a map of classId to timestamp of when the user watched/bookmarked/liked the video
- store on classMembership
    - somehow need to track leaving and joining dates 
    - maybe have to track it transactionally? the class document stores the actual incremented count, so it only has to be queried for the report
